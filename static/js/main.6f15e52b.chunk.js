(this["webpackJsonpwheater-app"]=this["webpackJsonpwheater-app"]||[]).push([[0],{26:function(e,t,n){e.exports={Input:"input_Input__2OP11",changed:"input_changed__1lgZG"}},28:function(e,t,n){e.exports={HourlyWeather:"hourlyWeather_HourlyWeather__oLjX-",WeatherDescription:"hourlyWeather_WeatherDescription__3Mjc7",iconify:"hourlyWeather_iconify__EhD5W"}},29:function(e,t,n){e.exports={Home:"home_Home__3EdI9",changed:"home_changed__zwIZD"}},45:function(e,t,n){e.exports={Title:"title_Title__2Pb7D"}},47:function(e,t,n){e.exports={DailyWeather:"dailyWeather_DailyWeather__hki_T"}},48:function(e,t,n){e.exports={DailyWeatherWrap:"dailyWeatherWrap_DailyWeatherWrap__1RlqK"}},49:function(e,t,n){e.exports={HourlyWeatherWrap:"hourlyWeatherWrap_HourlyWeatherWrap__28Pcm"}},50:function(e,t,n){e.exports={ErrorInfo:"errorInfo_ErrorInfo__2Guve"}},51:function(e,t,n){e.exports={loader:"spinner_loader__2x_U4",load8:"spinner_load8__2hZN8"}},52:function(e,t,n){e.exports={Layout:"layout_Layout__1r63v"}},53:function(e,t,n){e.exports=n(86)},62:function(e,t,n){},7:function(e,t,n){e.exports={CurrentWeather:"currentWeather_CurrentWeather__2MAe-",CurrentWeatherOverview:"currentWeather_CurrentWeatherOverview__2YbM2",city:"currentWeather_city__3v6Wq",time:"currentWeather_time__2sClk",temp:"currentWeather_temp__210oY",tempType:"currentWeather_tempType__1udRb",description:"currentWeather_description__2hKPp",CTemp:"currentWeather_CTemp__9rHUf",FTemp:"currentWeather_FTemp__IEGWs",selected:"currentWeather_selected__1rYgy",CurrentWeatherDetail:"currentWeather_CurrentWeatherDetail__TPdey"}},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o),i=n(20),l=n(12),u=n(24),s=n(44);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(62);var p=n(18),m=n(19),h=n(22),d=n(21),E=n(2),y=function(e){return e.children},f=n(45),_=n.n(f),v=function(e){return r.a.createElement("div",{className:_.a.Title},r.a.createElement("h1",{style:{color:"white",fontSize:"4em",fontFamily:"Rajdhani"}},"GOOD DAY ",r.a.createElement("span",{style:{color:"rgb(253, 108, 15)"}},"WEATHER")," APP"))},T=n(26),w=n.n(T),W=function(e){var t=[w.a.Input];return e.currentWeather&&t.push(w.a.changed),r.a.createElement("div",null,r.a.createElement("input",{onKeyDown:e.KeyDown,className:t.join(" "),type:"text",placeholder:"city weather forecast",onChange:e.changed}))},g=n(15),x=n.n(g),C=n(9),D=n(27),b=n(10),S=n.n(b),O=function(e,t,n,a,r){return{type:"FETCH_FORECAST_SUCCESS",weatherForecastData:e,currentLocationDailyWeatherData:t,position:n,lat:a,lon:r}},I=function(e){return{type:"FETCH_FORECAST_FAILED",error:e.message}},F=n(7),N=n.n(F),j=function(e){var t=[N.a.CTemp],n=[N.a.FTemp];return e.temperatureType?t.push(N.a.selected):n.push(N.a.selected),r.a.createElement("div",{className:N.a.CurrentWeather},r.a.createElement("div",{className:N.a.CurrentWeatherOverview},r.a.createElement("section",null,r.a.createElement("div",{className:N.a.city},e.cityShown),r.a.createElement("div",{className:N.a.time},e.timeShown)),r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(e.weatherIcon,"@4x.png"),alt:"icon"}),r.a.createElement("section",null,r.a.createElement("div",{className:N.a.temp},e.temp,"\xb0"),r.a.createElement("div",{className:N.a.tempType},r.a.createElement("span",{onClick:e.switchFtoC,className:t.join(" ")},"C")," ","|"," ",r.a.createElement("span",{onClick:e.switchCtoF,className:n.join(" ")},"F")),r.a.createElement("div",{className:N.a.description},e.weatherDescription))),r.a.createElement("div",{className:N.a.CurrentWeatherDetail},r.a.createElement("div",null,r.a.createElement("span",null,"sunrise"),r.a.createElement("br",null),r.a.createElement("span",null,e.sunriseTime)),r.a.createElement("div",null,r.a.createElement("span",null,"wind")," ",r.a.createElement("br",null),r.a.createElement("span",null,e.wind_speed," kmph")),r.a.createElement("div",null,r.a.createElement("span",null,"humidity")," ",r.a.createElement("br",null),r.a.createElement("span",null,e.humidity,"%")),r.a.createElement("div",null,r.a.createElement("span",null,"sunset"),r.a.createElement("br",null),r.a.createElement("span",null,e.sunsetTime)),r.a.createElement("div",null,r.a.createElement("span",null,"UV index")," ",r.a.createElement("br",null),r.a.createElement("span",null,e.uvi)),r.a.createElement("div",null,r.a.createElement("span",null,"feels like")," ",r.a.createElement("br",null),r.a.createElement("span",null,e.feelsLike,"\xb0"))))},k=function(e){return Math.round(e-273.15)},H=function(e){return Math.round(9*e/5-459.67)},z=n(46),A=n.n(z),L=function(e,t,n){var a=new Date(1e3*e);return A()(a).tz(t).format(n)},M=function(e){Object(a.useEffect)((function(){var t=[];e.hourlyWeather.slice(0,8).map((function(n){var a=L(n.dt,e.timezone,"H");return t.push(Number(a))}));var n=null;n=-1!==t.indexOf(0)?t.indexOf(0):-1!==t.indexOf(22)?t.indexOf(22):t.indexOf(23),e.onSetTodayEndIndex(n+1)}),[e.timezone]);var t=e.currentWeather,n=t.humidity,o=t.temp,c=t.wind_speed,i=t.uvi,l=t.feels_like,u=t.weatherDescription,s=t.sunrise,p=t.sunset,m=t.weatherIcon,h=L(s,e.timezone,"h:mm a"),d=L(p,e.timezone,"h:mm a"),E=(new Date).getTime()/1e3,f=L(E,e.timezone,"MMMM Do YYYY HH:mm"),_=0,v="";return e.temperatureType?(_=k(o),v=k(l)):(_=H(o),v=H(l)),r.a.createElement(y,null,r.a.createElement(j,{hourlyWeather:e.hourlyWeather,timezone:e.timezone,humidity:n,temp:_,wind_speed:c,uvi:i,weatherDescription:u,weatherIcon:m,sunriseTime:h,sunsetTime:d,feelsLike:v,timeShown:f,cityShown:e.position,switchFtoC:e.onSwitchTempTypeFtoC,switchCtoF:e.onSwitchTempTypeCtoF,temperatureType:e.temperatureType}))},P=n(47),Y=n.n(P),G=function(e){return r.a.createElement("div",{className:Y.a.DailyWeather,onClick:e.clickTarget},r.a.createElement("div",null,e.time),r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(e.weatherIcon,"@4x.png"),alt:"icon"}),r.a.createElement("p",null,e.weatherDescription),r.a.createElement("section",null,r.a.createElement("div",null,e.minTemp,"\xb0"),r.a.createElement("div",null,e.maxTemp,"\xb0")),r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement("span",{className:"iconify","data-icon":"wi:sunrise","data-inline":"false"})," ",e.sunriseTime),r.a.createElement("div",null,r.a.createElement("span",{className:"iconify","data-icon":"wi:sunset","data-inline":"false"})," ",e.sunsetTime)))},K=n(48),R=n.n(K),J=function(e){var t=0,n=5,a=e.timezone;if(a){var o=(new Date).getTime()/1e3;L(o,a,"HH")>=23&&(t=1,n=6)}var c=e.dailyWeather.slice(t,n).map((function(t,n){var o,c=L(t.sunrise,a,"HH:mm"),i=L(t.sunset,a,"HH:mm"),l=L(t.dt,a,"MM/DD ddd"),u=t.weather[0].icon,s=t.weather[0].description,p="";e.temperatureType?(o=k(t.temp.max),p=k(t.temp.min)):(o=H(t.temp.max),p=H(t.temp.min));return r.a.createElement(G,{key:t.dt,time:l,weatherIcon:u,weatherDescription:s,maxTemp:o,minTemp:p,sunriseTime:c,sunsetTime:i,clickTarget:function(t){return function(){var t=e.index.todayEnd,a=8*(n-1)+t;a<=0&&(a=0);var r=a+8;e.onGetIndex(a,r)}()}})}));return r.a.createElement("div",{className:R.a.DailyWeatherWrap},c)},U=n(49),X=n.n(U),Q=n(28),q=n.n(Q),Z=function(e){return r.a.createElement("div",{className:q.a.HourlyWeather},r.a.createElement("div",null,e.time),r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(e.weatherIcon,"@4x.png"),alt:""}),r.a.createElement("p",{className:q.a.WeatherDescription},e.weatherDescription),r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement("span",{className:"iconify","data-icon":"ic:round-cloud-queue","data-inline":"false"}),r.a.createElement("span",null," ",e.cloud," %")),r.a.createElement("div",null,r.a.createElement("span",{className:"iconify","data-icon":"carbon:temperature","data-inline":"false"}),r.a.createElement("span",null," ",e.temp,"\xb0"))))},B=function(e){var t=null,n=0,a=e.index.todayEnd;return e.index.start&&e.index.end&&(n=e.index.start,a=e.index.end),e.hourlyWeather&&(t=e.hourlyWeather.slice(n,a).map((function(t){var n=t.dt,a=Object(C.a)(t.weather,1)[0],o=a.description,c=a.icon,i=t.clouds.all,l=L(n,e.timezone,"HH:mm"),u=function(t){return e.temperatureType?k(t.main.temp):H(t.main.temp)}(t);return r.a.createElement(Z,{key:t.dt,time:l,weatherDescription:o,weatherIcon:c,temp:u,cloud:i})}))),r.a.createElement("div",{className:X.a.HourlyWeatherWrap},t)},V=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,error:null},e}return Object(m.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e}),console.log(e,t)}},{key:"render",value:function(){return r.a.createElement(y,null,this.state.hasError?r.a.createElement("p",null,"something went wrong"):this.props.children)}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),$=n(50),ee=n.n($),te=function(){return r.a.createElement("div",{className:ee.a.ErrorInfo},r.a.createElement("section",null,r.a.createElement("span",{className:"iconify","data-icon":"icomoon-free:sad","data-inline":"false"}),r.a.createElement("p",null,"Sorry! this location could not be found. Please try again...")))},ne=n(29),ae=n.n(ne),re=n(51),oe=n.n(re),ce=function(){return r.a.createElement(y,null,r.a.createElement("div",{className:oe.a.loader}),r.a.createElement("p",null,"Start fetching the weather forecast near your location..."))},ie=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onKeyDownHandler=function(t){if(13===t.keyCode){var n=t.target.value;e.props.onCitySearch(n,"ff19d157e14f44206656bad4cc1189ab","AIzaSyD-h4Aob9JC2TSsgEfhjO_KSIJFGxpQ9mQ")}},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.onCurrentLocationSearch("ff19d157e14f44206656bad4cc1189ab","AIzaSyD-h4Aob9JC2TSsgEfhjO_KSIJFGxpQ9mQ")}),1e3)}},{key:"render",value:function(){var e,t=this,n=null;e=this.props.error?r.a.createElement(E.a,{to:"/error"}):null;var a=r.a.createElement(E.b,{path:"/error",component:te}),o=[ae.a.Home];return this.props.currentWeather&&null===this.props.error&&(o.push(ae.a.changed),n=r.a.createElement(y,null,r.a.createElement(E.a,{to:"/"}),r.a.createElement(M,{currentWeather:this.props.currentWeather,timezone:this.props.timezone,position:this.props.position,temperatureType:this.props.temperatureType,onSwitchTempTypeFtoC:this.props.onSwitchTempTypeFtoC,onSwitchTempTypeCtoF:this.props.onSwitchTempTypeCtoF,hourlyWeather:this.props.hourlyWeather,onSetTodayEndIndex:this.props.onSetTodayEndIndex}),r.a.createElement(B,{index:this.props.index,hourlyWeather:this.props.hourlyWeather,timezone:this.props.timezone,temperatureType:this.props.temperatureType}),r.a.createElement(J,{onGetIndex:this.props.onGetIndex,timezone:this.props.timezone,dailyWeather:this.props.dailyWeather,temperatureType:this.props.temperatureType,index:this.props.index}))),r.a.createElement(y,null,r.a.createElement(V,null,r.a.createElement(v,null),this.props.currentWeather?null:r.a.createElement(ce,null),r.a.createElement(W,{KeyDown:function(e){return t.onKeyDownHandler(e)},currentWeather:this.props.currentWeather,error:this.props.error}),e,a,r.a.createElement("div",{className:o.join(" ")},n)))}}]),n}(a.Component),le=Object(i.b)((function(e){return{currentWeather:e.currentWeather,dailyWeather:e.dailyWeather,hourlyWeather:e.hourlyWeather,timezone:e.timezone,index:e.index,latLon:e.latLon,position:e.position,temperatureType:e.temperatureType,error:e.error}}),(function(e){return{onCitySearch:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(D.a)(x.a.mark((function a(r,o){var c,i,l,u,s,p,m,h,d;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!e){a.next=13;break}return a.next=4,S.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e,"&result_type=political&key=").concat(n));case 4:return c=a.sent,i=Object(C.a)(c.data.results,1),l=i[0],u=l.geometry.location,s=u.lat,p=u.lng,m=l.formatted_address,a.next=8,S.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(s,"&lon=").concat(p,"&appid=").concat(t));case 8:return h=a.sent,a.next=11,S.a.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(s,"&lon=").concat(p,"&appid=").concat(t));case 11:d=a.sent,r(O(h.data,d.data,m,s,p));case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),r(I(a.t0));case 18:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,n,a))},onCurrentLocationSearch:function(t,n){return e(function(e,t){return function(){var n=Object(D.a)(x.a.mark((function n(a){var r,o,c,i,l,u,s,p;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.a.post("https://www.googleapis.com/geolocation/v1/geolocate?key=".concat(t));case 3:return r=n.sent,o=r.data.location.lat,c=r.data.location.lng,n.next=8,S.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(o,"&lon=").concat(c,"&appid=").concat(e));case 8:return i=n.sent,n.next=11,S.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(o,",").concat(c,"&result_type=administrative_area_level_3&key=").concat(t));case 11:return l=n.sent,u=Object(C.a)(l.data.results,1),s=u[0].formatted_address,n.next=15,S.a.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(o,"&lon=").concat(c,"&appid=").concat(e));case 15:p=n.sent,a(O(i.data,p.data,s,o,c)),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),a(I(n.t0));case 22:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},onSwitchTempTypeFtoC:function(){return e({type:"SWITCH_TEMP_TYPE_F_TO_C"})},onSwitchTempTypeCtoF:function(){return e({type:"SWITCH_TEMP_TYPE_C_TO_F"})},onGetIndex:function(t,n){return e(function(e,t){return{type:"GET_INDEX",index:[e,t]}}(t,n))},onSetTodayEndIndex:function(t){return e(function(e){return{type:"SET_TODAY_END_INDEX",todayEnd:e}}(t))}}}))(ie),ue=n(52),se=n.n(ue),pe=function(e){return r.a.createElement(y,null,r.a.createElement("main",{className:se.a.Layout},e.children))};var me=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(pe,null,r.a.createElement(le,null)))},he=(n(85),n(13)),de=function(e,t){return Object(he.a)(Object(he.a)({},e),t)},Ee={currentWeather:null,dailyWeather:[],hourlyWeather:[],timezone:"",position:null,latLon:{},error:null,temperatureType:!0,index:{todayEnd:null,start:null,end:null}},ye=function(e,t){var n=t.weatherForecastData.current,a=n.humidity,r=n.sunrise,o=n.sunset,c=n.temp,i=n.wind_speed,l=n.uvi,u=n.feels_like,s=Object(C.a)(n.weather,1)[0].description,p=Object(C.a)(n.weather,1)[0].icon;return de(e,{currentWeather:{humidity:a,sunrise:r,sunset:o,temp:c,wind_speed:i,uvi:l,feels_like:u,weatherDescription:s,weatherIcon:p},dailyWeather:t.weatherForecastData.daily,hourlyWeather:t.currentLocationDailyWeatherData.list,latLon:{lat:t.lat,lon:t.lon},timezone:t.weatherForecastData.timezone,position:t.position,error:null})},fe=function(e,t){return de(e,{error:t.error})},_e=function(e,t){return de(e,{temperatureType:!0})},ve=function(e,t){return de(e,{temperatureType:!1})},Te=function(e,t){return de(e,{index:{todayEnd:t.todayEnd}})},we=function(e,t){return de(e,{index:Object(he.a)(Object(he.a)({},e.index),{},{start:t.index[0],end:t.index[1]})})},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FORECAST_SUCCESS":return ye(e,t);case"FETCH_FORECAST_FAILED":return fe(e,t);case"SWITCH_TEMP_TYPE_F_TO_C":return _e(e);case"SWITCH_TEMP_TYPE_C_TO_F":return ve(e);case"SET_TODAY_END_INDEX":return Te(e,t);case"GET_INDEX":return we(e,t)}return e},ge=l.c,xe=Object(l.d)(We,ge(Object(l.a)(s.a))),Ce=r.a.createElement(i.a,{store:xe},r.a.createElement(u.a,null,r.a.createElement(me,null)));c.a.render(Ce,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.6f15e52b.chunk.js.map